!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(){return e={657:function(e,t){var n,r;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}void 0===(r="function"==typeof(n=function(){var e=function(e){return document.getElementById(e)},t=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t)"object"===a(t[r])&&null!==t[r]?n[r]=e(t[r]):n[r]=t[r];return n},n=t({baseURL:"http://1.2.3.4:5678",method:"get",headers:{"content-type":"application/json;charset=utf8"},data:{},params:{}}),r={request:{use:function(e,t){return this.handlers.push({resolvedHandler:e,rejectedHandler:t})},handlers:[]},response:{use:function(e,t){return this.handlers.push({resolvedHandler:e,rejectedHandler:t})},handlers:[]}},i=function(e){return new Promise((function(t){var n=new XMLHttpRequest;for(var r in n.onload=function(){t({data:JSON.parse(n.responseText),status:n.status,statusText:n.statusText})},n.open(e.method,e.baseURL+e.url,!0),e.headers)n.setRequestHeader(r,e.headers[r]);n.send(JSON.stringify(e.data))}))},o=function(e){var a,o,l,s=(a=e,o=t(n),l=t(a),Object.keys(l).reduce((function(e,t){return["url","baseURL","method"].includes(t)&&(e[t]=l[t]),["headers","data","params"].includes(t)&&(e[t]=Object.assign({},l[t],e[t])),e}),o)),d=Promise.resolve(s);return r.request.handlers.forEach((function(e){d=d.then(e.resolvedHandler,e.rejectedHandler)})),d=d.then(i),r.response.handlers.forEach((function(e){d=d.then(e.resolvedHandler,e.rejectedHandler)})),d},l=function(e,t,n){var r="videoDomAt-"+e;if(!document.getElementById(r)){var a=document.createElement("audio");a.innerText="your browser does not support the video tag",a.setAttribute("id",r),a.setAttribute("src",t),a.setAttribute("controls",!0),a.setAttribute("controlsList","nofullscreen nodownload noremote footbar");var i=document.createElement("style");document.head.appendChild(i),sheet=i.sheet,sheet.addRule("#can audio::-webkit-media-controls-volume-control-container","display: none !important;"),sheet.insertRule("#can audio::-webkit-media-controls-volume-control-container { display: none !important; }",0),sheet.addRule("#can audio","outline: none;"),sheet.insertRule("#can audio { outline: none; }",0),document.getElementById(e)[n](a)}},s=function(t,n,r){var a="videoDomAt-"+t;if(!document.getElementById(a)){var i=document.createElement("audio");i.setAttribute("id",a),i.setAttribute("src",n),document.getElementById(t).appendChild(i),document.createElement("div").setAttribute("style","display: flex;");var o={name:"div",hasChild:!0,attr:{id:a,class:"GTTS_play_can",style:"height: 82px; background-color: #f8f9fc; border-radius: 8px;padding:20px; box-sizing: border-box;display: flex; align-items: center;color: #666D7F"},children:[{name:"div",hasChild:!1,attr:{id:"GTTS_play_btn",class:"GTTS_play_btn",style:"width: 42px; height: 42px;line-height:42px;background: #FFFFFF;box-shadow: 0 1px 8px 0 rgba(32,37,63,0.06);border-radius: 4px;margin-right: 16px;cursor: pointer;display:flex;align-items:center;justify-content:center;"}},{name:"div",hasChild:!0,attr:{id:"GTTS_play_aside",class:"GTTS_play_aside",style:"flex:1;padding:4px auto"},children:[{name:"div",hasChild:!1,attr:{id:"GTTS_play_tip",class:"GTTS_play_tip",style:"margin-bottom:10px;"},innerText:"带上耳机，听一听~"},{name:"div",hasChild:!0,attr:{id:"GTTS_play_detail",class:"GTTS_play_detail",style:"display: flex; align-items: center; justify-content: space-between;"},children:[{name:"span",hasChild:!1,attr:{id:"GTTS_play_start_time",class:"GTTS_play_start_time"},innerText:"00:00"},{name:"div",hasChild:!0,attr:{id:"GTTS_play_pgs",style:"flex:1;height:2px;background-color:#e3e8ee;text-align:center;margin: auto 10px;position: relative;"},children:[{name:"div",hasChild:!1,attr:{id:"GTTS_play_progress",class:"GTTS_play_progress",style:"position:absolute;top:0;left:0;width:0;height:100%;background:#20253F;;z-index:1;cursor:pointer"}},{name:"div",hasChild:!1,attr:{id:"GTTS_play_circle",class:"GTTS_play_circle",style:"position:absolute;top:-2px;left:-1px;width:6px;height:6px;border-radius:50%;background: #20253F;;cursor:pointer"}}]},{name:"span",hasChild:!1,attr:{id:"GTTS_play_end_time",class:"GTTS_play_end_time"},innerText:"05:20"}]}]}]},l=function e(t,n){for(var r in n){if("name"===r&&(t=document.createElement(n[r])),"attr"===r)for(var a in n[r])t.setAttribute(a,n[r][a]);"children"===r&&n[r].length>0&&n[r].map((function(n){var r=e(t,n);t.appendChild(r)})),"innerText"===r&&(t.innerText=n[r])}return t}(document.createElement("div"),o);e(t)[r](l);var s=d("svg",{width:14.4,height:19.4,id:"GTTS_play_btn_play",style:"display:block"}),p=d("polygon",{fill:"#20253F",points:"0,0 0,19.4 14.4,9.7"}),c=d("svg",{width:18,height:20,id:"GTTS_play_btn_pause",style:"display:none"}),y=d("polygon",{fill:"#20253F",points:"0,0 0,20 5,20 5,0"}),h=d("polygon",{fill:"#20253F",points:"13,0 13,20 18,20 18,0"});s.appendChild(p),c.appendChild(y),c.appendChild(h),e("GTTS_play_btn").appendChild(s),e("GTTS_play_btn").appendChild(c),u(a)}},d=function(e,t){var n="http://www.w3.org/1999/xlink",r=document.createElementNS("http://www.w3.org/2000/svg",e);for(var a in"svg"===e&&r.setAttribute("xmlns:xlink",n),t)"xlink:href"===a?r.setAttributeNS(n,a,t[a]):r.setAttribute(a,t[a]);return r},p=function(e){var t=parseInt(e/60),n=parseInt(e%60);return(t=t>=10?t:"0"+t)+":"+(n>=10?n:"0"+n)},u=function(t){var n=!1,r=e(t),a=function(t){var n,a=e("GTTS_play_pgs").offsetLeft,i=e("GTTS_play_pgs").offsetWidth+a;n=t.clientX<a?0:t.clientX>i?1:(t.clientX-a)/(i-a),e("GTTS_play_circle").style.left=100*n+"%",e("GTTS_play_progress").style.width=100*n+"%",r.currentTime=r.duration*n*100/100,e("GTTS_play_start_time").innerText=p(r.currentTime)};r.load(),r.oncanplay=function(){var t=r.duration,n=p(t);e("GTTS_play_end_time").innerText=n},e("GTTS_play_btn").onclick=function(){r.paused?r.play():r.pause()},r.addEventListener("play",(function(t){e("GTTS_play_btn_play").style.display="none",e("GTTS_play_btn_pause").style.display="block",console.log("播放",r.currentTime)})),r.addEventListener("pause",(function(t){e("GTTS_play_btn_play").style.display="block",e("GTTS_play_btn_pause").style.display="none",console.log("暂停",r.currentTime)})),r.addEventListener("ended",(function(){console.log("播放完毕",r.currentTime)})),r.addEventListener("timeupdate",(function(){var t=parseInt(e("GTTS_play_pgs").clientWidth*(r.currentTime/r.duration),10)+"px";e("GTTS_play_progress").style.width=t,e("GTTS_play_circle").style.left=t,e("GTTS_play_start_time").innerText=p(r.currentTime),r.paused?r.pause():r.play()})),e("GTTS_play_pgs").onmousedown=function(e){a(e)},e("GTTS_play_circle").onmousedown=function(e){e.preventDefault(),n=!0},document.onmouseup=function(){n=!1},document.onmousemove=function(e){n&&a(e)}};return GTTS={request:o,get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="get",t.url=e,o(t)},post:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.method="post",n.url=e,t&&(n.data=t),o(n)},insertVoiceFileById:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{addType:"appendChild",renderModel:"native"};if(!e||!t)throw Error("参数异常!");"native"===n.renderModel?l(e,t,n.addType):s(e,t,n.addType)}}})?n.apply(t,[]):n)||(e.exports=r)}},t={},function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}(657);var e,t}));
